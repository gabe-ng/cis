(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(e,t,n){},116:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),l=n(24),r=n.n(l),c=n(42),o=n.n(c),i=n(58),u=n(14),m=n(15),h=n(19),p=n(16),d=n(20),E=n(61),f=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.asset.quantity?this.props.asset.quantity.toLocaleString():0;return s.a.createElement("tr",{className:"asset"},s.a.createElement("td",null),s.a.createElement("td",null,this.props.asset.asset_class),s.a.createElement("td",null,this.props.asset.investment_date),s.a.createElement("td",null,"$ ",e),s.a.createElement("td",null,"$ ",this.props.asset.cost.$.toLocaleString()))}}]),t}(a.Component),v=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).state={assetsShown:n.props.showing},n.componentDidUpdate=function(e){e!==n.props&&n.setState({assetsShown:n.props.showing})},n.toggleAssets=function(){n.setState({assetsShown:!n.state.assetsShown})},n}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e,t=this.props.investment.issued_assets.reduce(function(e,t){return e+t.quantity},0).toLocaleString(),n=this.props.investment.issued_assets.reduce(function(e,t){return e+t.cost.$},0).toLocaleString(),a=this.props.investment.issued_assets.map(function(e){return s.a.createElement(f,{asset:e,key:e.id})});return e=!0===this.state.assetsShown?s.a.createElement("i",{className:"fas fa-caret-down arrow"}):s.a.createElement("i",{className:"fas fa-caret-right arrow"}),s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{className:"investment"},s.a.createElement("td",null,s.a.createElement("span",{className:"expand",onClick:this.toggleAssets},this.props.investment.name,e)),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null,"$ ",t),s.a.createElement("td",null,"$ ",n)),this.state.assetsShown?[a]:null)}}]),t}(a.Component),g=(n(112),function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).state={investments:[],showingAssets:!0,date:new Date},n.componentDidMount=function(){n.getInvestments()},n.getInvestments=Object(i.a)(o.a.mark(function e(){var t,a,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.convertDate(n.state.date),e.next=3,fetch("https://gist.githubusercontent.com/cranium/d8b83184bf0750f2c834760b7c9203dc/raw/a73a70716951f77b90e84b8848ff1fee46938dd1/soi.json?date="+t);case 3:return a=e.sent,e.next=6,a.json();case 6:s=e.sent,n.setState({investments:s});case 8:case"end":return e.stop()}},e,this)})),n.convertDate=function(e){var t=e.getFullYear().toString(),n=(e.getMonth()+1).toString(),a=e.getDate().toString();return 1===a.length&&(a="0"+a),1===n.length&&(n="0"+n),"".concat(t,"-").concat(n,"-").concat(a)},n.collapseAll=function(){n.setState({showingAssets:!1})},n.expandAll=function(){n.setState({showingAssets:!0})},n.setDate=function(e){n.setState({date:e})},n}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state.investments.map(function(t){return s.a.createElement(v,{investment:t,key:t.id,showing:e.state.showingAssets})}),n=this.state.investments.reduce(function(e,t){return e+t.cost.$},0).toLocaleString(),a=this.state.investments.reduce(function(e,t){return e+t.quantity},0).toLocaleString();return s.a.createElement("div",{className:"app"},s.a.createElement("h1",{className:"title"},"Carta Investor Services"),s.a.createElement("div",{className:"options"},s.a.createElement("button",{onClick:this.collapseAll},"Collapse All"),s.a.createElement("button",{onClick:this.expandAll},"Expand All"),s.a.createElement(E.a,{selected:this.state.date,onChange:this.setDate,todayButton:"Today",className:"date-picker"}),s.a.createElement("button",{onClick:this.getInvestments},"Search")),s.a.createElement("table",{className:"container"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",null,s.a.createElement("h1",null,"Investment")),s.a.createElement("th",null,s.a.createElement("h1",null,"Asset")),s.a.createElement("th",null,s.a.createElement("h1",null,"Investment Date")),s.a.createElement("th",null,s.a.createElement("h1",null,"Shares")),s.a.createElement("th",null,s.a.createElement("h1",null,"Cost"))),t,s.a.createElement("tr",{className:"total"},s.a.createElement("td",null,"Total"),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null,"$ ",a),s.a.createElement("td",null,"$ ",n)))))}}]),t}(a.Component));n(114);r.a.render(s.a.createElement(g,null),document.getElementById("root"))},62:function(e,t,n){e.exports=n(116)}},[[62,2,1]]]);
//# sourceMappingURL=main.c3317085.chunk.js.map