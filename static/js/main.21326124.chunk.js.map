{"version":3,"sources":["Asset.js","Investment.js","App.js","index.js"],"names":["Asset","quantity","this","props","assetInfo","toLocaleString","react_default","a","createElement","className","asset_class","investment_date","cost","$","Component","Investment","state","assetsShown","_this","showing","componentDidUpdate","prevProps","setState","toggleAssets","arrow","shares","investmentInfo","issued_assets","reduce","acc","asset","assets","map","src_Asset","key","id","Fragment","onClick","name","App","investments","showingAssets","date","Date","formattedDate","componentDidMount","getInvestments","_callee","response","regenerator_default","wrap","_context","prev","next","convertDate","fetch","sent","json","stop","y","getFullYear","toString","m","getMonth","d","getDate","length","concat","collapseAll","expandAll","setDate","_this2","investment","src_Investment","totalCost","totalShares","es","selected","onChange","todayButton","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.21326124.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Asset extends Component {\n  static propTypes = {\n    assetInfo: PropTypes.object.isRequired,\n  }\n\n  render() {\n    let quantity = this.props.assetInfo.quantity ? (this.props.assetInfo.quantity).toLocaleString() : 0;\n\n    return (\n      <tr className=\"asset\">\n        <td />\n        <td>{this.props.assetInfo.asset_class}</td>\n        <td>{this.props.assetInfo.investment_date}</td>\n        <td>$ {quantity}</td>\n        <td>$ {(this.props.assetInfo.cost.$).toLocaleString()}</td>\n      </tr>\n    )\n  }\n}\n\nexport default Asset;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Asset from \"./Asset\";\n\nclass Investment extends Component {\n  static propTypes = {\n    investmentInfo: PropTypes.object.isRequired,\n  }\n\n  state = {\n      assetsShown: this.props.showing,\n  }\n\n  componentDidUpdate = prevProps => {\n    if (prevProps !== this.props) {\n        this.setState({\n            assetsShown: this.props.showing,\n        })\n    }\n  }\n  \n  toggleAssets = () => {\n      this.setState({\n          assetsShown: !this.state.assetsShown,\n      })\n  }\n\n  render() {\n\n    let shares = this.props.investmentInfo.issued_assets.reduce((acc, asset) => acc + asset.quantity, 0).toLocaleString();\n    let cost = this.props.investmentInfo.issued_assets.reduce((acc, asset) => acc + asset.cost.$, 0).toLocaleString();\n    \n    let assets = \n        this.props.investmentInfo.issued_assets.map(asset => <Asset assetInfo={asset} key={asset.id}/>)\n\n    let arrow;\n        this.state.assetsShown === true ?\n            arrow = <i className=\"fas fa-caret-down arrow\"></i> :\n            arrow = <i className=\"fas fa-caret-right arrow\"></i>\n\n    return (\n        <React.Fragment>\n            <tr className=\"investment\">\n                <td><span className=\"expand\" onClick={this.toggleAssets}>{this.props.investmentInfo.name}{arrow}</span></td>\n                <td></td>\n                <td></td>\n                <td>$ {shares}</td>\n                <td>$ {cost}</td>\n            </tr>\n            {this.state.assetsShown ? [assets] : null}\n        </React.Fragment>\n    )\n  }\n}\n\nexport default Investment;\n","import React, { Component } from 'react';\nimport DatePicker from \"react-datepicker\";\nimport Investment from './Investment';\n\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nclass App extends Component {\n  state = {\n    investments: [],\n    showingAssets: true,\n    date: new Date(),\n    formattedDate: null,\n  };\n\n  componentDidMount = () => {\n    this.getInvestments();\n  }\n\n  // Handles API call for investments\n  getInvestments = async () => {\n    let formattedDate = this.state.formattedDate ? this.state.formattedDate : this.convertDate(this.state.date);\n\n    let response = await fetch(\"https://gist.githubusercontent.com/cranium/d8b83184bf0750f2c834760b7c9203dc/raw/a73a70716951f77b90e84b8848ff1fee46938dd1/soi.json?date=\" + formattedDate);\n    let investments = await response.json();\n\n    this.setState({\n      investments,\n      formattedDate,\n    })\n  }\n\n  // Method to convert date to YYYY-MM-DD format\n  convertDate = date => {\n      let y = date.getFullYear().toString();\n      let m = (date.getMonth() + 1).toString();\n      let d = date.getDate().toString();\n\n      (d.length === 1) && (d = '0' + d);\n      (m.length === 1) && (m = '0' + m);\n\n      let yyyymmdd = `${y}-${m}-${d}`;\n\n      return yyyymmdd;\n    }\n  \n  // Collapse all investment assets\n  collapseAll = () => {\n    this.setState({\n      showingAssets: false,\n    })\n  }\n\n  // Expand all investment assets\n  expandAll = () => {\n    this.setState({\n      showingAssets: true,\n    })\n  }\n\n  // Set date to user input\n  setDate = date => {\n    this.setState({\n      date: date,\n      formattedDate: this.convertDate(date)\n    });\n  }\n  \n  render() {\n\n    let investments =\n      this.state.investments.map(investment => \n        <Investment investmentInfo={investment} key={investment.id} showing={this.state.showingAssets} />)\n\n    let totalCost = \n      this.state.investments.reduce((acc, investment) => acc + investment.cost.$, 0).toLocaleString();\n\n    let totalShares =\n      this.state.investments.reduce((acc, investment) => acc + investment.quantity, 0).toLocaleString();\n\n    return (\n      <div className=\"app\">\n      <h1 className=\"title\">Carta Investor Services</h1>\n        <div className=\"options\">\n        <button onClick={this.collapseAll}>Collapse All</button>\n        <button onClick={this.expandAll}>Expand All</button>\n        <DatePicker selected={this.state.date} onChange={this.setDate} todayButton={\"Today\"} className=\"date-picker\"/>\n        <button onClick={this.getInvestments}>Search</button>\n      </div>\n        <table className=\"container\">\n          <tbody>\n            <tr>\n              <th><h1>Investment</h1></th>\n              <th><h1>Asset</h1></th>\n              <th><h1>Investment Date</h1></th>\n              <th><h1>Shares</h1></th>\n              <th><h1>Cost</h1></th>\n            </tr>\n            {investments}\n            <tr className=\"total\">\n              <td>Total</td>\n              <td></td>\n              <td></td>\n              <td>$ {totalShares}</td>\n              <td>$ {totalCost}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './styles/index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}