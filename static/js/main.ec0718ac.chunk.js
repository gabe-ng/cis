(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(t,e,n){},116:function(t,e,n){"use strict";n.r(e);var a=n(1),s=n.n(a),r=n(24),l=n.n(r),c=n(42),o=n.n(c),i=n(58),u=n(14),m=n(15),f=n(19),h=n(16),d=n(20),p=n(61),v=function(t){function e(){return Object(u.a)(this,e),Object(f.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){var t=this.props.assetInfo.quantity?this.props.assetInfo.quantity.toLocaleString():0;return s.a.createElement("tr",{className:"asset"},s.a.createElement("td",null),s.a.createElement("td",null,this.props.assetInfo.asset_class),s.a.createElement("td",null,this.props.assetInfo.investment_date),s.a.createElement("td",null,"$ ",t),s.a.createElement("td",null,"$ ",this.props.assetInfo.cost.$.toLocaleString()))}}]),e}(a.Component),E=function(t){function e(){var t,n;Object(u.a)(this,e);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(n=Object(f.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(s)))).state={assetsShown:n.props.showing},n.componentDidUpdate=function(t){t!==n.props&&n.setState({assetsShown:n.props.showing})},n.toggleAssets=function(){n.setState({assetsShown:!n.state.assetsShown})},n}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){var t,e=this.props.filterAssets(this.props.investmentInfo.issued_assets).reduce(function(t,e){return t+e.quantity},0).toLocaleString(),n=this.props.filterAssets(this.props.investmentInfo.issued_assets).reduce(function(t,e){return t+e.cost.$},0).toLocaleString(),a=this.props.filterAssets(this.props.investmentInfo.issued_assets).map(function(t){return s.a.createElement(v,{assetInfo:t,key:t.id})});return t=!0===this.state.assetsShown?s.a.createElement("i",{className:"fas fa-caret-down arrow"}):s.a.createElement("i",{className:"fas fa-caret-right arrow"}),s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{className:"investment"},s.a.createElement("td",null,s.a.createElement("span",{className:"expand",onClick:this.toggleAssets},this.props.investmentInfo.name,t)),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null,"$ ",e),s.a.createElement("td",null,"$ ",n)),this.state.assetsShown?[a]:null)}}]),e}(a.Component),g=(n(112),function(t){function e(){var t,n;Object(u.a)(this,e);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(n=Object(f.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(s)))).state={investments:[],showingAssets:!0,date:new Date,formattedDate:null},n.componentDidMount=function(){n.getInvestments()},n.getInvestments=Object(i.a)(o.a.mark(function t(){var e,a,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.state.formattedDate?n.state.formattedDate:n.convertDate(n.state.date),t.next=3,fetch("https://gist.githubusercontent.com/cranium/d8b83184bf0750f2c834760b7c9203dc/raw/a73a70716951f77b90e84b8848ff1fee46938dd1/soi.json?date="+e);case 3:return a=t.sent,t.next=6,a.json();case 6:s=t.sent,n.setState({investments:s,formattedDate:e});case 8:case"end":return t.stop()}},t,this)})),n.convertDate=function(t){var e=t.getFullYear().toString(),n=(t.getMonth()+1).toString(),a=t.getDate().toString();return 1===a.length&&(a="0"+a),1===n.length&&(n="0"+n),"".concat(e,"-").concat(n,"-").concat(a)},n.filterAssets=function(t){return t.filter(function(t){return n.convertDateToMS(t.investment_date)<=n.convertDateToMS(n.state.formattedDate)})},n.collapseAll=function(){n.setState({showingAssets:!1})},n.expandAll=function(){n.setState({showingAssets:!0})},n.setDate=function(t){n.setState({date:t,formattedDate:n.convertDate(t)})},n.convertDateToMS=function(t){var e=String(t);if("/"===e[2]){var n=e.split("/").reverse(),a=n[1];n[1]=n[2],n[2]=a;var s=n.join("-");return new Date(s).getTime()}return new Date(e).getTime()},n}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){var t=this,e=this.state.investments.map(function(e){return s.a.createElement(E,{investmentInfo:e,key:e.id,showing:t.state.showingAssets,selectedDate:t.state.formattedDate,convertDateToMS:t.convertDateToMS,filterAssets:t.filterAssets})}),n=this.state.investments.reduce(function(e,n){return e+t.filterAssets(n.issued_assets).reduce(function(t,e){return t+e.cost.$},0)},0).toLocaleString(),a=this.state.investments.reduce(function(e,n){return e+t.filterAssets(n.issued_assets).reduce(function(t,e){return t+e.quantity},0)},0).toLocaleString();return s.a.createElement("div",{className:"app"},s.a.createElement("h1",{className:"title"},"Carta Investor Services"),s.a.createElement("div",{className:"options"},s.a.createElement("button",{onClick:this.collapseAll},"Collapse All"),s.a.createElement("button",{onClick:this.expandAll},"Expand All"),s.a.createElement(p.a,{selected:this.state.date,onChange:this.setDate,todayButton:"Today",className:"date-picker"}),s.a.createElement("button",{onClick:this.getInvestments},"Search")),s.a.createElement("table",{className:"container"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",null,s.a.createElement("h1",null,"Investment")),s.a.createElement("th",null,s.a.createElement("h1",null,"Asset")),s.a.createElement("th",null,s.a.createElement("h1",null,"Investment Date")),s.a.createElement("th",null,s.a.createElement("h1",null,"Shares")),s.a.createElement("th",null,s.a.createElement("h1",null,"Cost"))),e,s.a.createElement("tr",{className:"total"},s.a.createElement("td",null,"Total"),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null,"$ ",a),s.a.createElement("td",null,"$ ",n)))))}}]),e}(a.Component));n(114);l.a.render(s.a.createElement(g,null),document.getElementById("root"))},62:function(t,e,n){t.exports=n(116)}},[[62,2,1]]]);
//# sourceMappingURL=main.ec0718ac.chunk.js.map